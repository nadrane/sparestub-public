<!DOCTYPE html>
{% load staticfiles %}
<html lang="en" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Convenient. Social. SpareStub brings together those with extra event tickets and
                                      those who want to go. Creating friendships. Promoting good times.">
    <meta name="author" content="Nick Drane">

    <title>SpareStub</title>

    {% block css %}
      {% if environment == 'production' or environment == 'staging' %}
          <!-- Bootstrap core CSS -->
          <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
          <!-- Boostrap Validator CSS -->
          <link href="https://s3.amazonaws.com/sparestub/static/css/bootstrapValidator.min.css" rel="stylesheet">
      {% else %}
          <!-- Bootstrap core CSS -->
          <link href="{% static "sparestub/css/bootstrap.css" %}" rel="stylesheet">
          <!-- Boostrap Validator CSS -->
          <link href="{% static "sparestub/css/bootstrapValidator.css" %}" rel="stylesheet">
      {% endif %}

      <!-- basic base.html styling -->
      <link href="{% static "sparestub/css/base.css" %}" rel="stylesheet">
    {% endblock %}

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!---Must remain in the head tag so that the script has loaded before IE encounters the HTML5 tags -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <div style="padding-top: 10px; padding-left: 0px; padding-bottom: 0px">
            <a href="/">
             <img src="{% static "sparestub/logos/sparestub4a.png" %}" height="30px">
            </a>
          </div>
        </div>

        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li><a href="/">Home</a></li>
            <li>
                <a class="contact-form-button" data-toggle="modal" data-target="#modal-contact-root">Contact</a>
            </li>
          </ul>
          <div id="navigation-bar-right-div" class="navbar-form navbar-right">
            {% comment %}
            {% include "navigation_bar_right.html" %}
            {% endcomment %}
          </div>
        </div><!-- /.nav-collapse -->
      </div><!-- /.container -->
    </div><!-- /.navbar -->

    <div id="notification-root">
      <div class="notification-style" style="display: None">
        <a href="#" class="close" data-dismiss="alert">&times;</a>
        <strong class="notification-header"></strong>
        <span class="notification-content"></span>
      </div>
    </div>

    <div class="container" role="main">
        {% block content %}{% endblock %}
    </div><!-- /.container -->

    {% comment %} Define a couple constants using the Django templating language {% endcomment %}
    <script type="text/javascript">
    window.additional_parameters =
    {
        'contact_form_url' : "{% url "contact.views.submit" %}",
        'signup_form_url' : "{% url "registration.views.signup" %}",
        'login_form_url' : "{% url "registration.views.login" %}"
    }
    </script>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

    {% block js %}
      {% if environment == 'production' or environment == 'staging' %}
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

        <!-- Bootstrap validator Javascript -->
        <script src="https://s3.amazonaws.com/sparestub/static/js/bootstrapValidator.min.js"></script>

        <!-- Google analytics -->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
          ga('create', 'UA-55020709-1', 'auto');
          ga('send', 'pageview');
        </script>
      {% else %}
        <script type="text/javascript" src="{% static "sparestub/js/jquery-1.11.1.js" %}"></script>
        <script type="text/javascript" src="{% static "sparestub/js/bootstrap.js" %}"></script>

        <!-- Bootstrap validator Javascript -->
        <script type="text/javascript" src="{% static "sparestub/js/bootstrapValidator.js" %}"></script>

        <!-- Bootstrap linter -->
        <script type="text/javascript" src="//maxcdn.bootstrapcdn.com/bootlint/0.3.0/bootlint.min.js"></script>
      {% endif %}

      <script type="text/javascript" src="{% static "sparestub/js/utils.js" %}"></script>
      <script type="text/javascript" src="{% static "contact/js/contact.js" %}"></script>

      {% comment %} Depends on initialize_bootstrap_validation, which is defined in contact.js {% endcomment %}
      <script type="text/javascript" src="{% static "sparestub/js/base.js" %}"></script>

      <script type="text/javascript" src="{% static "registration/js/signup.js" %}"></script>
      <script type="text/javascript" src={% static "registration/js/login.js"%}></script>

    {% endblock %}

     <!-- TODO aria-labeledby we need to set this appropriately -->
    <div id="modal-contact-root" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-sm">
        <div class="modal-content" id="modal-contact-form-content">
        </div>
      </div>
    </div>

    <div id="modal-signup-root" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-sm">
        <div class="modal-content" id="modal-signup-form-content">
        </div>
      </div>
    </div>

    <div id="modal-login-root" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-sm">
        <div class="modal-content" id="modal-login-form-content">
        </div>
      </div>
    </div>
  </body>
</html>